<!DOCTYPE HTML>
<!--
	Hyperspace by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html lang="it" data-ng-app="materialAdmin" data-ng-controller="materialadminCtrl as mactrl">
	<head>
		<title>Dipendente {{dipendente.nome}} {{dipendente.cognome}}</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />


<!--==================================================================================================-->
    <!-- Vendor CSS -->
    <link href="{{url_for('static', filename='headerAndForm/vendors/bower_components/animate.css/animate.min.css') }}" rel="stylesheet">
    <link href="{{url_for('static', filename='headerAndForm/vendors/bower_components/material-design-iconic-font/dist/css/material-design-iconic-font.min.css') }}" rel="stylesheet">
    <link href="{{url_for('static', filename='headerAndForm/vendors/bower_components/angular-loading-bar/src/loading-bar.css') }}" rel="stylesheet">


    <!-- CSS -->
    <link href="{{url_for('static', filename='headerAndForm/css/app.css') }}" rel="stylesheet">
    <link href="{{url_for('static', filename='headerAndForm/css/demo.css') }}" rel="stylesheet">


<!--=================================================================================================-->

    <link href="{{url_for('static', filename='bootstrap/css/normalize.css') }}" rel="stylesheet">
    <link rel="stylesheet" href="{{url_for('static', filename='css/font-awesome.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="{{url_for('static', filename='bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">

<!--==================== css form registrazione e profilo =============================================-->

    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='form/fonts/iconic/css/material-design-iconic-font.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='form/vendor/animate/animate.css') }}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='form/vendor/css-hamburgers/hamburgers.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='form/vendor/animsition/css/animsition.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='form/vendor/select2/select2.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='form/vendor/daterangepicker/daterangepicker.css') }}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='form/vendor/noui/nouislider.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='form/css/util.css') }}">

    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='form/css/main.css') }}">
<!--===============================================================================================-->

    <link rel="stylesheet" href="{{url_for('static', filename='css/gestioneDip.css') }}">
    <link rel="stylesheet" href="{{url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{url_for('static', filename='css/registraDipendente.css') }}">
    <link rel="stylesheet" href="{{url_for('static', filename='css/profiloDip.css') }}">
    <link rel="stylesheet" href="{{url_for('static', filename='css/button-modificaProfilo.css') }}">

<!--==================== css calendario e agenda====== =============================================-->
    <link href="{{url_for('static', filename='agenda/fullcalendar.min.css') }}" rel='stylesheet' />
    <link href="{{url_for('static', filename='agenda/fullcalendar.print.min.css') }}" rel='stylesheet' media='print' />

    <script src="{{url_for('static', filename='js/vendor/jquery-1.10.2.min.js') }}"></script>

    <script src="{{url_for('static', filename='agenda/lib/moment.min.js') }}"></script>
    <script src="{{url_for('static', filename='agenda/fullcalendar.min.js') }}"></script>
    <script src="{{url_for('static', filename='agenda/locale/it.js') }}"></script>
<!--===============================================================================================-->

    <link href="{{url_for('static', filename='headerAndForm/vendors/bower_components/bootstrap-sweetalert/lib/sweet-alert.css') }}" rel='stylesheet' />
    <script src="{{url_for('static', filename='js/vendor/sweet-alert2.min.js') }}"></script>

<!--===============================favicons =========================================================-->


    <link rel="apple-touch-icon" sizes="57x57" href="{{url_for('static', filename='favicon/apple-icon-57x57.png') }}">
    <link rel="apple-touch-icon" sizes="60x60" href="{{url_for('static', filename='favicon/apple-icon-60x60.png') }}">
    <link rel="apple-touch-icon" sizes="72x72" href="{{url_for('static', filename='favicon/apple-icon-72x72.png') }}">
    <link rel="apple-touch-icon" sizes="76x76" href="{{url_for('static', filename='favicon/apple-icon-76x76.png') }}">
    <link rel="apple-touch-icon" sizes="114x114" href="{{url_for('static', filename='favicon/apple-icon-114x114.png') }}">
    <link rel="apple-touch-icon" sizes="120x120" href="{{url_for('static', filename='favicon/apple-icon-120x120.png') }}">
    <link rel="apple-touch-icon" sizes="144x144" href="{{url_for('static', filename='favicon/apple-icon-144x144.png') }}">
    <link rel="apple-touch-icon" sizes="152x152" href="{{url_for('static', filename='favicon/apple-icon-152x152.png') }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{url_for('static', filename='favicon/apple-icon-180x180.png') }}">
    <link rel="icon" type="image/png" sizes="192x192"  href="{{url_for('static', filename='favicon/android-icon-192x192.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{url_for('static', filename='favicon/favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="96x96" href="{{url_for('static', filename='favicon/favicon-96x96.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{url_for('static', filename='favicon/favicon-16x16.png') }}">
    <link rel="manifest" href="{{url_for('static', filename='favicon/manifest.json') }}">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="{{url_for('static', filename='favicon/ms-icon-144x144.png') }}">
    <meta name="theme-color" content="#ffffff">

<!--===================================socket io====================================================-->
    <script src="{{url_for('static', filename='js/vendor/socket.io.js') }}"></script>
    <!--===========================================================================================================-->

        <!-- Angular -->
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/angular/angular.min.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/angular-animate/angular-animate.min.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/angular-resource/angular-resource.min.js') }}"></script>

        <!-- Angular Modules -->
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/angular-ui-router/release/angular-ui-router.min.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/angular-loading-bar/src/loading-bar.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/oclazyload/dist/ocLazyLoad.min.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js') }}"></script>

        <!-- Common Vendors -->
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/jquery.nicescroll/jquery.nicescroll.min.js') }}"></script>

        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/Waves/dist/waves.min.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/vendors/bootstrap-growl/bootstrap-growl.min.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/ng-table/dist/ng-table.min.js') }}"></script>



        <!-- Using below vendors in order to avoid misloading on resolve -->
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/flot/jquery.flot.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/flot.curvedlines/curvedLines.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/flot/jquery.flot.resize.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/moment/min/moment.min.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/fullcalendar/dist/fullcalendar.min.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/flot-orderBars/js/jquery.flot.orderBars.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/flot/jquery.flot.pie.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/flot.tooltip/js/jquery.flot.tooltip.min.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/vendors/bower_components/angular-nouislider/src/nouislider.min.js') }}"></script>

        <!-- App level -->
        <script src="{{url_for('static', filename='headerAndForm/js/app.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/js/config.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/js/controllers/main.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/js/services.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/js/templates.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/js/controllers/ui-bootstrap.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/js/controllers/table.js') }}"></script>


        <!-- Template Modules -->
        <script src="{{url_for('static', filename='headerAndForm/js/modules/template.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/js/modules/ui.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/js/modules/charts/flot.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/js/modules/charts/other-charts.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/js/modules/form.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/js/modules/media.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/js/modules/components.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/js/modules/calendar.js') }}"></script>
        <script src="{{url_for('static', filename='headerAndForm/js/modules/demo.js') }}"></script>

<!--===========================================================================================================-->




		<!--[if lte IE 8]><script src="{{url_for('static', filename='paginaCliente/assets/js/ie/html5shiv.js') }}"></script><![endif]-->
		<link rel="stylesheet" href="{{url_for('static', filename='paginaCliente/assets/css/main.css') }}" />
		<!--[if lte IE 9]><link rel="stylesheet" href="{{url_for('static', filename='paginaCliente/assets/css/ie9.css') }}" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="{{url_for('static', filename='paginaCliente/assets/css/ie8.css') }}" /><![endif]-->


        <link rel="stylesheet" href="{{url_for('static', filename='calendario/css/bootstrap-year-calendar.css') }}">
        <script src="{{url_for('static', filename='calendario/js/bootstrap-year-calendar.js') }}"></script>

        <link rel="stylesheet" href="{{url_for('static', filename='swal-forms/swal-forms.css') }}">
        <link rel="stylesheet" href="{{url_for('static', filename='swal-forms/sweet-alert.css') }}">
        <script src="{{url_for('static', filename='swal-forms/sweet-alert.js') }}"></script>
        <script src="{{url_for('static', filename='swal-forms/swal-forms.js') }}"></script>


	</head>
	<body data-ng-class="{ 'sw-toggled': mactrl.layoutType === '1', 'modal-open': mactrl.sidebarToggle.left === true }">


	<header id="header" data-ng-include="'header'" data-ng-controller="headerCtrl as hctrl"></header>
    <aside id="sidebar" data-ng-include="'sidebarLeft'" data-ng-class="{ 'toggled': mactrl.sidebarToggle.left === true }"></aside>

	<aside id="chat" data-ng-include="'/static/headerAndForm/template/chat.html'" data-ng-class="{ 'toggled': mactrl.sidebarToggle.right === true }"></aside>


	<div class="row">


		<!-- Sidebar -->
			<div class="col-md-3">
			<section id="sidebar-client">
				<div class="inner">
					<nav>
						<ul>
							<li><a class="menuBar local" href="#intro">Profilo personale</a></li>
                            <li><a class="menuBar local" href="#page2">Imposta ferie</a></li>


					</nav>
				</div>
			</section>
			</div>

		<!-- Wrapper -->
			<div id="wrapper" class="col-md-9">

				<!-- Intro -->
					<section id="intro" class="wrapper style1 fullscreen fade-up">
						<div class="inner">
							<h1>{{dipendente.nome}} {{dipendente.cognome}}</h1>

							<div class="row">
								<div class="col-md-6">
									<ul class="contact">
                                        <li>
											<h3>Ufficio:</h3>
											<span>{{dipendente.classe}}</span>
                                            <button class="editProfilo classe">modifica</button>

										</li>
                                        <li>
											<h3>Codice fiscale:</h3>
											<span>{{dipendente.cf}}</span>
                                            <button class="editProfilo cf">modifica</button>
										</li>
                                        <li>
											<h3>Data di nascita:</h3>
											<span>{{dipendente.dataNascita}}</span>
                                            <button class="editProfilo nascita">modifica</button>
										</li>
										<li>
											<h3>Indirizzo residenza:</h3>
											<span>{{dipendente.residenza}}</span>
                                            <button class="editProfilo residenza">modifica</button>
										</li>
                                        <li>
											<h3>Indirizzo domicilio:</h3>
											<span>{{dipendente.domicilio}}</span>
                                            <button class="editProfilo domicilio">modifica</button>
										</li>
										<li>
											<h3>Email aziendale:</h3>
											<a href="#">{{dipendente.email_aziendale}}</a>
                                            <button class="editProfilo email_aziendale">modifica</button>
										</li>
                                        <li>
											<h3>Email personale:</h3>
											<a href="#">{{dipendente.email_personale}}</a>
                                            <button class="editProfilo email_personale">modifica</button>
										</li>
										<li>
											<h3>Telefono:</h3>
											<span>{{dipendente.telefono}}</span>
                                            <button class="editProfilo telefono">modifica</button>
										</li>

                                        <li>
											<h3>Iban:</h3>
											<span>{{dipendente.iban}}</span>
                                            <button class="editProfilo iban">modifica</button>
										</li>

                                        <li>
											<h3>Partita IVA:</h3>
											<span>{{dipendente.partitaIva}}</span>
                                            <button class="editProfilo iva">modifica</button>
										</li>



										<li>
                                            <form id="uploadImgForm" action="/uploadImgProfilo" method="post" enctype="multipart/form-data" >
                                                <input id="uploadImg" type="file" name="image">

                                            </form>
                                             <button onclick="$('#uploadImg').trigger('click');">Cambia immagine profilo</button>
										</li>
									</ul>
								</div>


						</div>
					</section>
                    <section id="page2" class="wrapper style1 fullscreen fade-up">
                        <span><h2>Calendario ferie</h2></span>
                        <div id='calendar'></div>

                    </section>


			</div>

		<!-- Scripts -->
		<!--================================= JS Form =================================================================-->
		<script src="{{url_for('static', filename='form/vendor/animsition/js/animsition.min.js') }}"></script>
		<script src="{{url_for('static', filename='form/vendor/bootstrap/js/popper.js') }}"></script>
		<script src="{{url_for('static', filename='bootstrap/js/bootstrap.min.js') }}"></script>
		<script src="{{url_for('static', filename='form/vendor/select2/select2.min.js') }}"></script>
		<!--===========================================================================================================-->
		<!--
		<script src="{{url_for('static', filename='paginaCliente/assets/js/jquery.min.js') }}"></script> -->
		<script src="{{url_for('static', filename='paginaCliente/assets/js/jquery.scrollex.min.js') }}"></script>
		<script src="{{url_for('static', filename='paginaCliente/assets/js/jquery.scrolly.min.js') }}"></script>
		<script src="{{url_for('static', filename='paginaCliente/assets/js/skel.min.js') }}"></script>
		<script src="{{url_for('static', filename='paginaCliente/assets/js/util.js') }}"></script>
		<!--[if lte IE 8]><script src="{{url_for('static', filename='paginaCliente/assets/js/ie/respond.min.js') }}"></script><![endif]-->
		<script src="{{url_for('static', filename='paginaCliente/assets/js/main.js') }}"></script>

		<script>
            var socketProfilo = io.connect("{{sockUrl}}"+'/profilo');

            var socketHome = io.connect("{{sockUrl}}"+'/home');

            socketHome.on('connect', function() {

                socketHome.emit('registra_sid',   {'username': '{{dipendente.username}}'} );
            });

			$('#header > a').css('border-bottom', 'None' );
			$('#uploadImg').change(function(){
                $('#uploadImgForm').submit()


			});

			function saveEvent(e, titolo, luogo, durata) {

                var end_date = moment(e.date).add(durata-1, 'd').toDate();

                var dataSource = $('#calendar').data('calendar').getDataSource();
                dataSource.push({startDate: e.date, endDate: end_date, name: titolo, location: luogo})
                $('#calendar').data('calendar').setDataSource(dataSource);

                socketProfilo.emit('aggiungi_ferie', {
                    'dip': '{{dipendente.username}}',
                    'titolo': titolo,
                    'start_date': moment(e.date).add(1, 'd').toDate(),
                    'end_date': moment(end_date).add(1, 'd').toDate(),
                    'luogo': '',
                });

            }

            var currentYear = new Date().getFullYear();

			$('#calendar').calendar(

              {
                 enableContextMenu: true,
                 enableRangeSelection: true,
                 language: 'it',

                dataSource: [
                   {% for evento in calendario %}
                    {% if not evento.tipologia %}
                       {


                           name: '{{evento.titolo}}',
                           location: '',
                           startDate: moment('{{evento.start_date}}').toDate(),
                           endDate: moment('{{evento.end_date}}').toDate()
                       },
                    {% endif %}
                   {% endfor %}

                ],


                clickDay: function(e) {
                    //alert('almeo qua');

                    giornoSelected = $(e.element)
                    $('.clicked').each(function(){
                      if( !$(this).is(giornoSelected) ){
                        $(this).removeClass('clicked');
                        $(this).popover('hide');
                      }
                    });

                    if( !giornoSelected.hasClass('clicked') ){

                      giornoSelected.addClass('clicked');
                      content = ''


                      if(e.events.length > 0) {
                      //  $('.popover').popover('hide');
                        for(var i in e.events) {
                             content += '<div class="event-tooltip-content">'
                                             + '<div class="event-name" style="color:' + e.events[i].color + '">' + e.events[i].name + '</div>'
                                             + '<div class="event-location">' + e.events[i].location + '</div>'
                                         + '</div>';

                        }

                        content += '<hr/> <div> \
                                    <div  id="cal-del-event" class="popover-option">Rimuovi</div>     \
                                    </div> \
                                   '
                      }
                      else{
                        content = ' <div> \
                                  <div id="cal-add-event" class="popover-option">Aggiungi ferie</div>     \
                                  </div> \
                                '
                      }




                      giornoSelected.popover({
                          trigger: 'manual',
                          container: 'body',
                          html:true,
                          content: content
                      });

                      giornoSelected.popover('show');

                      $('#cal-add-event').click(function(){
                            swal.withFormAsync({
                                title: 'Aggiungi evento',
                                showCancelButton: true,
                                confirmButtonColor: '#DD6B55',
                                confirmButtonText: 'Ok',
                                cancelButtonText: 'annulla',
                                closeOnConfirm: true,
                                formFields: [

                                    { id: 'titolo', label: 'Titolo evento:', name: 'titolo', placeholder: 'titolo evento' },

                                    { id: 'durata', type: 'number', label: 'Durata giorni evento:', name: 'durata', value: 1 },

                                ]
                            }).then(function (context) {
                                if(context._isConfirm){

                                    saveEvent(e, context.swalForm['titolo'], "", context.swalForm['durata']);

                                }

                            });



                            $('.popover').remove();
                            $('.clicked').removeClass('clicked');


                      });
                    }
                   else {
                        giornoSelected.removeClass('clicked');
                        giornoSelected.popover('hide');

                    }
                }
              }
            )

            $('.editProfilo').click(function(){

                var campoToEdit = $(this).attr('class').split(' ')[1];
                var titolo = "";
                var label="";
                var campo ="";
                var valore ="";

                if( campoToEdit == 'classe' ){
                    titolo="Modifica ufficio classe d'appartenenza";
                    label="Ufficio:";
                    swal.withFormAsync({
                            title: titolo,
                            showCancelButton: true,
                            confirmButtonColor: '#DD6B55',
                            confirmButtonText: 'Ok',
                            cancelButtonText: 'annulla',
                            closeOnConfirm: true,
                            formFields: [

                                { id: 'ufficio', label: label, name: 'ufficio', type: 'select', options: [
                                  {value: 'commerciale', text: 'commerciale'},
                                  {value: 'tecnico', text: 'tecnico'},
                                  {value: 'capocantiere', text: 'capocantieri'},
                                  {value: 'contabile', text: 'contabile'},
                                ]},


                            ]
                        }).then(function (context) {
                            if(context._isConfirm){
                                 campo="classe";
                                 valore=context.swalForm['ufficio'];
                                 socketProfilo.emit('modifica_profilo', {
                                    'dip' : '{{dipendente.username}}',
                                    'campo': campo,
                                    'valore': valore
                                 });


                            }

                        });

                }
                else if( campoToEdit == 'cf' ){
                    titolo="Modifica codice fiscale";
                    label="Codice Fiscale:";
                    swal.withFormAsync({
                            title: titolo,
                            showCancelButton: true,
                            confirmButtonColor: '#DD6B55',
                            confirmButtonText: 'Ok',
                            cancelButtonText: 'annulla',
                            closeOnConfirm: true,
                            formFields: [

                                { id: 'testo', label: label, name: 'testo', type: 'text' },


                            ]
                        }).then(function (context) {
                            if(context._isConfirm){
                                 campo="classe";
                                 valore=context.swalForm['testo'];
                                 socketProfilo.emit('modifica_profilo', {
                                    'dip' : '{{dipendente.username}}',
                                    'campo': campo,
                                    'valore': valore
                                 });


                            }

                        });

                }
                else if( campoToEdit == 'nascita' ){
                    titolo="Modifica data di nascita";
                    swal.withFormAsync({
                        title: titolo,
                        showCancelButton: true,
                        confirmButtonColor: '#DD6B55',
                        confirmButtonText: 'Ok',
                        cancelButtonText: 'annulla',
                        closeOnConfirm: true,
                        formFields: [

                            { id: 'nascita', label: 'Data di nascita: ', name: 'nascita', type: 'date', value: '{{dipendente.dataNascita}}' },


                        ]
                    }).then(function (context) {
                        if(context._isConfirm){
                             campo="dataNascita";
                             valore=context.swalForm['nascita'];

                             socketProfilo.emit('modifica_profilo', {
                                    'dip' : '{{dipendente.username}}',
                                    'campo': campo,
                                    'valore': valore
                                 });


                        }

                    });
                }
                else if( campoToEdit == 'residenza' ){
                    titolo="Modifica luogo di residenza";
                    label="Residenza:";
                    swal.withFormAsync({
                            title: titolo,
                            showCancelButton: true,
                            confirmButtonColor: '#DD6B55',
                            confirmButtonText: 'Ok',
                            cancelButtonText: 'annulla',
                            closeOnConfirm: true,
                            formFields: [

                                { id: 'testo', label: label, name: 'testo', type: 'text' },


                            ]
                        }).then(function (context) {
                            if(context._isConfirm){
                                 campo="residenza";
                                 valore=context.swalForm['testo'];

                                 socketProfilo.emit('modifica_profilo', {
                                    'dip' : '{{dipendente.username}}',
                                    'campo': campo,
                                    'valore': valore
                                 });


                            }

                        });

                }
                else if( campoToEdit == 'domicilio' ){
                    titolo="Modifica luogo di domicilio";
                    label="Domicilio:";
                    swal.withFormAsync({
                            title: titolo,
                            showCancelButton: true,
                            confirmButtonColor: '#DD6B55',
                            confirmButtonText: 'Ok',
                            cancelButtonText: 'annulla',
                            closeOnConfirm: true,
                            formFields: [

                                { id: 'testo', label: label, name: 'testo', type: 'text' },


                            ]
                        }).then(function (context) {
                            if(context._isConfirm){
                                 campo="domicilio";
                                 valore=context.swalForm['testo'];

                                 socketProfilo.emit('modifica_profilo', {
                                    'dip' : '{{dipendente.username}}',
                                    'campo': campo,
                                    'valore': valore
                                 });


                            }

                        });

                }
                else if( campoToEdit == 'email_aziendale' ){
                    titolo="Modifica email aziendale";
                    label="Email:";
                    swal.withFormAsync({
                            title: titolo,
                            showCancelButton: true,
                            confirmButtonColor: '#DD6B55',
                            confirmButtonText: 'Ok',
                            cancelButtonText: 'annulla',
                            closeOnConfirm: true,
                            formFields: [

                                { id: 'testo', label: label, name: 'testo', type: 'text' },


                            ]
                        }).then(function (context) {
                            if(context._isConfirm){
                                 campo="email_aziendale";
                                 valore=context.swalForm['testo'];

                                 socketProfilo.emit('modifica_profilo', {
                                    'dip' : '{{dipendente.username}}',
                                    'campo': campo,
                                    'valore': valore
                                 });


                            }

                        });

                }
                else if( campoToEdit == 'email_personale' ){
                    titolo="Modifica email personale";
                    label="Email:";
                    swal.withFormAsync({
                            title: titolo,
                            showCancelButton: true,
                            confirmButtonColor: '#DD6B55',
                            confirmButtonText: 'Ok',
                            cancelButtonText: 'annulla',
                            closeOnConfirm: true,
                            formFields: [

                                { id: 'testo', label: label, name: 'testo', type: 'text' },


                            ]
                        }).then(function (context) {
                            if(context._isConfirm){
                                 campo="email_personale";
                                 valore=context.swalForm['testo'];

                                 socketProfilo.emit('modifica_profilo', {
                                    'dip' : '{{dipendente.username}}',
                                    'campo': campo,
                                    'valore': valore
                                 });


                            }

                        });

                }
                else if( campoToEdit == 'telefono' ){
                    titolo="Modifica telefono";
                    label="Telefono: ";
                    swal.withFormAsync({
                            title: titolo,
                            showCancelButton: true,
                            confirmButtonColor: '#DD6B55',
                            confirmButtonText: 'Ok',
                            cancelButtonText: 'annulla',
                            closeOnConfirm: true,
                            formFields: [

                                { id: 'testo', label: label, name: 'testo', type: 'text' },


                            ]
                        }).then(function (context) {
                            if(context._isConfirm){
                                 campo="telefono";
                                 valore=context.swalForm['testo'];

                                 socketProfilo.emit('modifica_profilo', {
                                    'dip' : '{{dipendente.username}}',
                                    'campo': campo,
                                    'valore': valore
                                 });


                            }

                        });

                }
                else if( campoToEdit == 'iban' ){
                    titolo="Modifica iban";
                    label="IBAN:";
                    swal.withFormAsync({
                            title: titolo,
                            showCancelButton: true,
                            confirmButtonColor: '#DD6B55',
                            confirmButtonText: 'Ok',
                            cancelButtonText: 'annulla',
                            closeOnConfirm: true,
                            formFields: [

                                { id: 'testo', label: label, name: 'testo', type: 'text' },


                            ]
                        }).then(function (context) {
                            if(context._isConfirm){
                                 campo="iban";
                                 valore=context.swalForm['testo'];

                                 socketProfilo.emit('modifica_profilo', {
                                    'dip' : '{{dipendente.username}}',
                                    'campo': campo,
                                    'valore': valore
                                 });


                            }

                        });

                }
                else if( campoToEdit == 'iva' ){
                    titolo="Modifica partita IVA";
                    label="Partita IVA:";
                    swal.withFormAsync({
                            title: titolo,
                            showCancelButton: true,
                            confirmButtonColor: '#DD6B55',
                            confirmButtonText: 'Ok',
                            cancelButtonText: 'annulla',
                            closeOnConfirm: true,
                            formFields: [

                                { id: 'testo', label: label, name: 'testo', type: 'text' },


                            ]
                        }).then(function (context) {
                            if(context._isConfirm){
                                 campo="partitaIva";
                                 valore=context.swalForm['testo'];

                                 socketProfilo.emit('modifica_profilo', {
                                    'dip' : '{{dipendente.username}}',
                                    'campo': campo,
                                    'valore': valore
                                 });

                            }

                        });

                }




            });

            socketProfilo.on('aggiorna_pagina', function(){
                 window.location ="{{url_for('paginaProfilo')}}"
            });

		</script>

	</div>
	</body>
</html>